{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "s": {
      "title": "Schema version",
      "description": "The schema version of this json document",
      "type": "integer",
      "enum": [1]
    },
    "v": {
      "title": "Configuration version",
      "type": "integer"
    },
    "k": {
      "title": "kind",
      "type": "string",
      "enum": ["pt", "ct", "en", "qm", "qo", "qu", "qejp", "qsv"]
    },
    "i": {
      "title": "ident",
      "type": "object",
      "properties": {
        "t": {
          "title": "table",
          "type": "string",
          "pattern": "^[a-zA-Z_]{1}[0-9a-zA-Z_]*$"
        },
        "c": {
          "title": "column",
          "type": "string",
          "pattern": "^[a-zA-Z_]{1}[0-9a-zA-Z_]*$"
        }
      },
      "required": ["t", "c"]
    },
    "p": {
      "title": "plaintext",
      "type": "string"
    },
    "c": {
      "title": "ciphertext",
      "type": "string"
    },
    "u": {
      "title": "unique index",
      "type": "string"
    },
    "o": {
      "title": "ore index",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string"
      }
    },
    "m": {
      "title": "match index",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "number"
      }
    },
    "sv": {
      "title": "STE vec index",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string"
      }
    },
    "se": {
      "title": "EJSON path selector",
      "type": "string"
    }
  },
  "anyOf": [
    {
      "properties": {
        "k": {
          "const": "pt"
        },
        "q": {
          "title": "for query",
          "description": "Specifies that the plaintext should be encrypted for a specific query operation. If null, source encryption and encryption for all indexes will be performed.",
          "type": "string",
          "enum": [
            "match",
            "ore",
            "unique",
            "ste_vec",
            "ejson_path",
            "websearch_to_match"
          ]
        }
      },
      "required": ["p", "i"]
    },
    {
      "properties": {
        "k": {
          "const": "ct"
        }
      },
      "required": ["c", "i"]
    },
    {
      "properties": {
        "k": {
          "const": "en"
        }
      },
      "required": ["c", "p", "i"]
    },
    {
      "properties": {
        "k": {
          "const": "qm"
        }
      },
      "required": ["m"]
    },
    {
      "properties": {
        "k": {
          "const": "qo"
        }
      },
      "required": ["o"]
    },
    {
      "properties": {
        "k": {
          "const": "qu"
        }
      },
      "required": ["u"]
    },
    {
      "properties": {
        "k": {
          "const": "qsv"
        }
      },
      "required": ["sv"]
    },
    {
      "properties": {
        "k": {
          "const": "qejp"
        }
      },
      "required": ["se"]
    }
  ],
  "required": ["v", "k"]
}
